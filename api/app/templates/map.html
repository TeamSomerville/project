<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7/leaflet.css" />
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <!--this is new-->

    <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
    <script src='https://api.tiles.mapbox.com/mapbox.js/v1.6.4/mapbox.js'></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>

    <style type="text/css">
    #map {
        position: absolute; top: 0; bottom: 0; left: 0; right: 0;}
    }
    /* This is new */
    
    button {
        width: 100px;
    }
    </style>
</head>

<body>
<div id="map"> </div>
<script type="text/javascript">
     var query = { "collection": "userroutes"}
     $.ajax({
         type: "post",
         data: JSON.stringify(query),
         contentType: "application/json",
         dataType: "json",
         url: "/api/find_mongo_collection",
         success: function (data) {
             console.log(data);
             //var map = L.map("map").setView([45.18766302,77.43785851], 4);
	     var map = L.map("map").setView([data.features[0].geometry.coordinates[1],data.features[0].geometry.coordinates[0]], 12);
	     var tiles = L.tileLayer("https://api.maptiler.com/maps/streets/{z}/{x}/{y}.png?key=4f3hBKrjDqQGPICv8MkY", {
		 attribution: '<a href="https://www.maptiler.com/copyright/" target="_blank">&copy; MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">&copy; OpenStreetMap contributors</a>'
	     });
	     tiles.addTo(map);
             L.geoJson(data).addTo(map);
         },
         error: function () {
             console.log("error occurred");
         }
          })
</script>
</body>
</html>
